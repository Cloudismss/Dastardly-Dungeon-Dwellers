{
  "name": "C++ Environment",
  "build": { "dockerfile": "Dockerfile.arch" },

  // runArgs to enable debugging in our container 
  "runArgs": [
    "--cap-add=SYS_PTRACE",
    "--security-opt",
    "seccomp=unconfined"
  ],

  // VSCode customizations
  "customizations": {
    "vscode": {
      "settings": {
        "C_Cpp.intelliSenseEngine": "disabled", // disabled in favor of clangd
        "C_Cpp.clang_format_fallbackStyle": "Microsoft",
        "editor.defaultFormatter": "llvm-vs-code-extensions.vscode-clangd",
        "editor.formatOnSave": true,
        "editor.tabSize": 2,
        "cmake.configureOnOpen": true,
        "cmake.configureArgs": [ "--fresh" ],
        "lldb.suppressUpdateNotifications": true
      },
      "extensions": [
        "ms-vscode.cpptools",
        "ms-vscode.cmake-tools",
        "llvm-vs-code-extensions.vscode-clangd",
        "vadimcn.vscode-lldb",
        "aaron-bond.better-comments"
      ]
    }
  }
}
